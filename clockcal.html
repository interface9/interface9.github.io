<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">

    <title>Time</title>
    <style>
        /* 
    Crucial CSS for very old browsers: 
    Ensures HTML and BODY elements take up full height/width.
    These simple rules are highly compatible.
*/
        html,
        body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            background-color: #000;
            color: #fff;
            font-family: 'Archivo Black', Verdana, 'Montserrat', 'Segoe UI', Tahoma, Geneva, sans-serif;
            font-style: normal;
        }

        /* Optional styling for visibility */
        table {
            border-collapse: collapse;
        }

        td {
            padding: 5px;
            /* Add some padding so text isn't stuck to border */
        }



        .clock-container {
            display: table-cell;
            vertical-align: middle;
        }

        #weekdayDisplay {
            font-variant: small-caps;
            font-style: italic;
            font-size: 50px;
            line-height: 1;
            color: #999999;
            text-align: left;
            padding-left: 40px;
        }

        #dateDisplay {
            font-variant: small-caps;
            font-style: italic;
            font-weight: normal;
            font-size: 50px;
            line-height: 1;
            color: #999999;
            text-align: right;
            padding-right: 40px;
        }

        #clock {
            position: relative;
            width: 900px;
            height: 260px;
            background-color: #000;
        }

        #time {
            font-weight: bolder;
            font-size: 240px;
            line-height: 1;
        }

        #seconds {
            position: absolute;
            font-weight: bolder;
            font-size: 100px;
            left: 764px;
            top: 20px;
            color: #e06666;
        }

        #ampm {
            position: absolute;
            font-weight: lighter;
            font-size: 80px;
            line-height: 1;
            left: 764px;
            top: 130px;
            color: #fff;
        }


        /* Calendar */
        .calendar {
            font-family: sans-serif;
            font-size: 15px;
            background-color: #1e1e1e; /* Dark background for the calendar container */
            border: 1px solid #333; /* Subtle border */
            width: 180px; 
            height: 150px; 
            padding: 5px; 
            box-sizing: border-box; 
            display: flex;
            flex-direction: column;
            overflow: hidden; 
            box-shadow: 0 0 10px rgba(0,0,0,0.5); /* Added shadow for depth in dark mode */

            position: absolute;
            left: 800px;
            top: 40px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8em; 
            margin-bottom: 5px;
            color: #e0e0e0; /* Light color for header text */
        }
        .header button {
            background-color: #3c3c3c; /* A color that stands out */
            color: #fff;
            border: none;
            padding: 2px 5px; 
            cursor: pointer;
            font-size: 0.7em;
            border-radius: 2px;
        }
        .header button:hover {
            background-color: #007bff;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.7em;
            table-layout: fixed; 
        }
        th, td {
            text-align: center;
            padding: 1px; 
            border: 1px solid #111; /* Darker borders for contrast */
            height: 15px; 
            box-sizing: border-box;
            color: #e0e0e0; /* Light color for day numbers */
            color: #999; /* Grey color for S M T W T F S */
        }
        th {
            background-color: #2c2c2c; /* Slightly lighter dark for the weekday header */
            color: #999; /* Grey color for S M T W T F S */
        }
        .today {
            background-color: #e06666; /* Bright yellow highlight for today */
            color: #fff; /* Dark text on the yellow highlight */
            font-weight: bold;
        }        
    </style>
</head>

<body>

    <!-- Main layout table that spans the entire viewport -->
    <table width="100%" height="100%" border="0" cellspacing="0" cellpadding="0">
        <tr>
            <!-- This single cell aligns its content (the inner table) vertically to the middle -->
            <td align="center" valign="middle">

                <!-- This is the inner table with your specific requirements -->
                <table width="100%" border="0">
                    <tr>
                        <td align="left">
                            <p id="weekdayDisplay"></p>



                            <div class="calendar">
                                <div class="header">
                                    <button onclick="changeMonth(-1)">&lt;</button>
                                    <div id="month-year">Month Year</div>
                                    <button onclick="changeMonth(1)">&gt;</button>
                                </div>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th>
                                        </tr>
                                    </thead>
                                    <tbody id="calendar-body">
                                        <!-- Calendar days will be injected here by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        




                        </td>
                    </tr>
                    <tr>
                        <td align="center">
                            <div id="clock">
                                <span id="time"></span>
                                <span id="ampm"></span>
                                <span id="seconds"></span>
                            </div>

                        </td>
                    </tr>
                    <tr>
                        <td align="right">
                            <p id="dateDisplay"></p>

                        </td>
                    </tr>
                </table>

            </td>
        </tr>
    </table>



    <script>
        function updateClock() {
            var now = new Date();
            var hours = now.getHours();
            var minutes = now.getMinutes();
            var seconds = now.getSeconds();
            var ampm = hours >= 12 ? 'PM' : 'AM';

            // Convert to 12-hour format
            hours = hours % 12;
            // The hour '0' should be '12'
            hours = hours ? hours : 12;

            // Add a leading zero if the value is less than 10
            hours = hours < 10 ? '0' + hours : hours;
            minutes = minutes < 10 ? '0' + minutes : minutes;
            seconds = seconds < 10 ? '0' + seconds : seconds;

            document.getElementById('time').innerHTML = hours + ":" + minutes + "&nbsp;&nbsp;"; // + ":" + seconds;
            document.getElementById('ampm').innerHTML = ampm;
            document.getElementById('seconds').innerHTML = seconds;
        }

        function displayCurrentDateTime() {
            var weekday = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

            const now = new Date();

            var dayNum = now.getDay();
            var currentDay = weekday[dayNum];
            document.getElementById("weekdayDisplay").innerHTML = currentDay;

            const options = {
                //weekday: 'long', // Full weekday name (e.g., Monday)
                year: 'numeric',
                month: 'long',   // Full month name (e.g., September)
                day: 'numeric'
            };

            const formattedDateTime = now.toLocaleDateString('en-US', options);
            document.getElementById('dateDisplay').textContent = formattedDateTime;
        }

        // Call updateClock() immediately to avoid a delay on page load
        updateClock();
        displayCurrentDateTime();

        // Update the clock every second (1000 milliseconds)
        setInterval(updateClock, 1000);
        setInterval(displayCurrentDateTime, 1000);
    </script>


<script>
    // JavaScript remains unchanged as it uses only basic compatible features
    var today = new Date();
    var currentMonth = today.getMonth();
    var currentYear = today.getFullYear();
    var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

    function renderCalendar() {
        var firstDay = new Date(currentYear, currentMonth, 1);
        var daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
        var startDayOfWeek = firstDay.getDay(); 

        var monthYearDisplay = document.getElementById("month-year");
        monthYearDisplay.innerHTML = monthNames[currentMonth] + " " + currentYear;

        var calendarBody = document.getElementById("calendar-body");
        calendarBody.innerHTML = ""; 

        var date = 1;
        for (var i = 0; i < 6; i++) { 
            var row = document.createElement("tr");

            for (var j = 0; j < 7; j++) { 
                var cell = document.createElement("td");
                if (i === 0 && j < startDayOfWeek) {
                    cell.innerHTML = "";
                } else if (date > daysInMonth) {
                    cell.innerHTML = "";
                } else {
                    cell.innerHTML = date;

                    if (date === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear()) {
                        cell.classList.add("today");
                    }
                    date++;
                }
                row.appendChild(cell);
            }
            calendarBody.appendChild(row);
            if (date > daysInMonth) {
                break;
            }
        }
    }

    function changeMonth(delta) {
        currentMonth += delta;
        if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        } else if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        }
        renderCalendar();
    }

    window.onload = renderCalendar;
</script>

</body>

</html>
